<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: svn.rb</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>svn.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>script/svn/svn.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Wed Apr 09 10:52:23 -0500 2008</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h2>SVN Workflow Library for Ruby</h2>
<p>
This SVN library was developed to aid the developer in the sometimes
maddening process of managing branches within a subversion repository.
</p>
<p>
The library is split into three main scripts, which are run either from
trunk or from your branch.
</p>
<pre>
  [branch] creates a branch when used from trunk
  [uptrunk]  brings any new code that is in trunk into your branch.
  [unbranch] merges changes in your branch back into trunk.
</pre>
<h2>Requirements</h2>
<p>
The SVN Library requires the following layout of your SVN repository.
<tt>/trunk</tt> <tt>/branches</tt> It is important that trunk and branches
are siblings to one another within the filesystem otherwise this library
will not work.
</p>
<h2>Usage</h2>
<p>
<b>Creating A Branch</b> Navigate to the trunk folder of your repository
and from a command line type:
</p>
<p>
<tt>ruby script/svn/branch branch_name</tt>
</p>
<p>
The branch script will set a property on your root of your trunk folder
called &quot;svn:trunk&quot;. This property contains the revision number of
trunk where you branched from. This property will be used by the
unbranching process to determine where the merge start point should be.
</p>
<p>
<b>Merging changes in trunk into your branch</b> Navigate to your branch
directory within your respository and from a command line type:
</p>
<p>
<tt>ruby script/svn/uptrunk</tt>
</p>
<p>
Any changes in trunk since the point you branched or last ran uptrunk will
be merged into your branch. The uptrunk branch will set a property on your
root of application called &quot;svn:trunk&quot;. This property contains
the revision number of trunk where you last imported changes from. The
scripts will use this number in the future to scope any future merges to
make sure it doesn&#8216;t pull code in more than once.
</p>
<p>
<b>Merging your branch into trunk</b> When you branch is complete and you
are ready to merge your changes into trunk, navigate from your branch
folder to the trunk of your repository and type:
</p>
<p>
<tt>ruby script/svn/unbranch branch_name</tt>
</p>
<p>
This will merge all of your changes from your branch into your trunk using
the previously set &quot;svn:trunk&quot; property as a guide.
</p>
<p>
Merging to trunk is a very sensitive task and the upmost care should be
taken to ensure you do not overwrite another developers changes. The
unbranching script offers a dry run flag &quot;-d&quot; which can be
appended to the end of the command to produce a diff of the merge instead
of merging file. If when comparing the diff you see any changes that you
did not make then you know you will have problems with the merge. The dry
run can be executed like this:
</p>
<p>
<tt>ruby script/svn/unbranch branch_name -d</tt>
</p>
<p>
<b>Warning</b> Do not check in &quot;svn:trunk&quot; property, because it
will be unique to your branch and it may affect other users who are also
using the branching tools. In some cases you may see conficts on the root
node if this happens. When resolving the conflict make sure to choose your
version of the &quot;svn:trunk&quot; property.
</p>

    </div>

    <div id="requires-list">
      <h3 class="section-bar">Required files</h3>

      <div class="name-list">
      rexml/document&nbsp;&nbsp;
      ostruct&nbsp;&nbsp;
      </div>
    </div>

   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>